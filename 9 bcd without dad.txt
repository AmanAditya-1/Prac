LXI H,0000H
MOV B, M 
INX H
MOV C,M
MVI A, 00H
MOV A,B
ADD C
MOV B,A
ANI 0FH
CPI 09H
JNC M
MOV A,B
JMP END
M: JNZ ABC
MOV A,B
 JMP END
ABC: ADI 06H
 MOV C,A
 ANI F0H
 MOV D,A
 MOV A,C
 SUB D
 MOV C,A
 MOV A,B
 ANI F0H
 ADD D
 CPI 90H
JNC M2
 ADD C
 JMP END
M2: JNZ XYZ
ADD C
 JMP END
XYZ: ADI 60H
 ADD C
 MOV B,A
 MVI A,01H
 STA 0001H
 MOV A,B
 JMP END
END:STA 0002H
HLT